<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Load Testing Tool Architectures</title>
    <style>
        body {
            font-family: Liberation Sans, Arial, sans-serif;
            background: #f8fafc;
            margin: 0;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }
        .diagram-container {
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            padding: 24px;
            max-width: 100%;
        }
        svg {
            display: block;
            margin: 0 auto;
        }
    </style>
</head>
<body>
    <div class="diagram-container">

        <svg viewBox="0 0 900 480" xmlns="http://www.w3.org/2000/svg">
            <defs>
                <!-- Gradients -->
                <linearGradient id="threadGradient" x1="0%" y1="0%" x2="0%" y2="100%">
                    <stop offset="0%" style="stop-color:#ef4444;stop-opacity:1" />
                    <stop offset="100%" style="stop-color:#dc2626;stop-opacity:1" />
                </linearGradient>
                <linearGradient id="eventGradient" x1="0%" y1="0%" x2="0%" y2="100%">
                    <stop offset="0%" style="stop-color:#10b981;stop-opacity:1" />
                    <stop offset="100%" style="stop-color:#059669;stop-opacity:1" />
                </linearGradient>
                <linearGradient id="constantGradient" x1="0%" y1="0%" x2="0%" y2="100%">
                    <stop offset="0%" style="stop-color:#3b82f6;stop-opacity:1" />
                    <stop offset="100%" style="stop-color:#1d4ed8;stop-opacity:1" />
                </linearGradient>
                <!-- Shadow filter -->
                <filter id="dropShadow" x="-20%" y="-20%" width="140%" height="140%">
                    <feDropShadow dx="2" dy="2" stdDeviation="3" flood-opacity="0.15"/>
                </filter>
                <!-- Arrow markers -->
                <marker id="arrowGray" markerWidth="8" markerHeight="6" refX="7" refY="3" orient="auto">
                    <polygon points="0 0, 8 3, 0 6" fill="#64748b" />
                </marker>
            </defs>

            <!-- Title -->
            <text x="450" y="28" text-anchor="middle" font-size="18" font-weight="600" fill="#1e293b" font-family="Liberation Sans, Arial, sans-serif">Load Testing Tool Architectures</text>

            <!-- Thread-per-User (JMeter) -->
            <g transform="translate(20, 55)">
                <rect x="0" y="0" width="270" height="380" rx="8" fill="#f8fafc" stroke="#e2e8f0" stroke-width="1" filter="url(#dropShadow)"/>

                <!-- Title bar -->
                <rect x="0" y="0" width="270" height="36" rx="8" fill="url(#threadGradient)"/>
                <rect x="0" y="28" width="270" height="8" fill="url(#threadGradient)"/>
                <text x="135" y="24" text-anchor="middle" font-size="12" font-weight="600" fill="white" font-family="Liberation Sans, Arial, sans-serif">Thread-per-User (JMeter)</text>

                <!-- Thread icons - representing many threads -->
                <g transform="translate(30, 55)">
                    <!-- Thread stack visualization -->
                    <text x="105" y="0" text-anchor="middle" font-size="10" fill="#64748b" font-family="Liberation Sans, Arial, sans-serif">Each VU = 1 Thread</text>

                    <!-- Thread boxes -->
                    <rect x="0" y="15" width="40" height="25" rx="3" fill="#fecaca" stroke="#ef4444" stroke-width="1"/>
                    <text x="20" y="32" text-anchor="middle" font-size="10" fill="#991b1b" font-family="Liberation Sans, Arial, sans-serif">VU 1</text>

                    <rect x="50" y="15" width="40" height="25" rx="3" fill="#fecaca" stroke="#ef4444" stroke-width="1"/>
                    <text x="70" y="32" text-anchor="middle" font-size="10" fill="#991b1b" font-family="Liberation Sans, Arial, sans-serif">VU 2</text>

                    <rect x="100" y="15" width="40" height="25" rx="3" fill="#fecaca" stroke="#ef4444" stroke-width="1"/>
                    <text x="120" y="32" text-anchor="middle" font-size="10" fill="#991b1b" font-family="Liberation Sans, Arial, sans-serif">VU 3</text>

                    <rect x="150" y="15" width="40" height="25" rx="3" fill="#fecaca" stroke="#ef4444" stroke-width="1"/>
                    <text x="170" y="32" text-anchor="middle" font-size="10" fill="#991b1b" font-family="Liberation Sans, Arial, sans-serif">VU 4</text>

                    <!-- More rows -->
                    <rect x="0" y="50" width="40" height="25" rx="3" fill="#fecaca" stroke="#ef4444" stroke-width="1"/>
                    <text x="20" y="67" text-anchor="middle" font-size="10" fill="#991b1b" font-family="Liberation Sans, Arial, sans-serif">VU 5</text>

                    <rect x="50" y="50" width="40" height="25" rx="3" fill="#fecaca" stroke="#ef4444" stroke-width="1"/>
                    <text x="70" y="67" text-anchor="middle" font-size="10" fill="#991b1b" font-family="Liberation Sans, Arial, sans-serif">VU 6</text>

                    <rect x="100" y="50" width="40" height="25" rx="3" fill="#fecaca" stroke="#ef4444" stroke-width="1"/>
                    <text x="120" y="67" text-anchor="middle" font-size="10" fill="#991b1b" font-family="Liberation Sans, Arial, sans-serif">VU 7</text>

                    <rect x="150" y="50" width="40" height="25" rx="3" fill="#fecaca" stroke="#ef4444" stroke-width="1"/>
                    <text x="170" y="67" text-anchor="middle" font-size="10" fill="#991b1b" font-family="Liberation Sans, Arial, sans-serif">VU 8</text>

                    <!-- Dots indicating more -->
                    <text x="105" y="95" text-anchor="middle" font-size="14" fill="#94a3b8" font-family="Liberation Sans, Arial, sans-serif">...</text>
                    <text x="105" y="115" text-anchor="middle" font-size="10" fill="#64748b" font-family="Liberation Sans, Arial, sans-serif">10,000 threads</text>
                </g>

                <!-- Memory usage indicator -->
                <g transform="translate(30, 190)">
                    <text x="0" y="0" font-size="10" font-weight="500" fill="#475569" font-family="Liberation Sans, Arial, sans-serif">Memory Usage</text>
                    <rect x="0" y="10" width="200" height="16" rx="3" fill="#f1f5f9" stroke="#e2e8f0" stroke-width="1"/>
                    <rect x="0" y="10" width="180" height="16" rx="3" fill="#ef4444"/>
                    <text x="90" y="22" text-anchor="middle" font-size="10" font-weight="500" fill="white" font-family="Liberation Sans, Arial, sans-serif">5-10 GB (High)</text>
                </g>

                <!-- Characteristics -->
                <g transform="translate(20, 245)">
                    <rect x="0" y="0" width="230" height="115" rx="4" fill="#fee2e2" stroke="#fecaca" stroke-width="1"/>
                    <text x="115" y="18" text-anchor="middle" font-size="10" font-weight="600" fill="#991b1b" font-family="Liberation Sans, Arial, sans-serif">Characteristics</text>
                    <line x1="10" y1="28" x2="220" y2="28" stroke="#fecaca" stroke-width="1"/>

                    <text x="20" y="45" font-size="10" fill="#b91c1c" font-family="Liberation Sans, Arial, sans-serif">+ Simple mental model</text>
                    <text x="20" y="60" font-size="10" fill="#b91c1c" font-family="Liberation Sans, Arial, sans-serif">+ Broad protocol support</text>
                    <text x="20" y="75" font-size="10" fill="#b91c1c" font-family="Liberation Sans, Arial, sans-serif">- High memory overhead</text>
                    <text x="20" y="90" font-size="10" fill="#b91c1c" font-family="Liberation Sans, Arial, sans-serif">- Limited VUs per machine</text>
                    <text x="20" y="105" font-size="10" fill="#b91c1c" font-family="Liberation Sans, Arial, sans-serif">- Needs distributed setup for scale</text>
                </g>
            </g>

            <!-- Event-Driven (Locust, k6, Gatling) -->
            <g transform="translate(315, 55)">
                <rect x="0" y="0" width="270" height="380" rx="8" fill="#f8fafc" stroke="#e2e8f0" stroke-width="1" filter="url(#dropShadow)"/>

                <!-- Title bar -->
                <rect x="0" y="0" width="270" height="36" rx="8" fill="url(#eventGradient)"/>
                <rect x="0" y="28" width="270" height="8" fill="url(#eventGradient)"/>
                <text x="135" y="24" text-anchor="middle" font-size="12" font-weight="600" fill="white" font-family="Liberation Sans, Arial, sans-serif">Event-Driven (k6, Locust)</text>

                <!-- Event loop visualization -->
                <g transform="translate(30, 55)">
                    <text x="105" y="-8" text-anchor="middle" font-size="10" fill="#64748b" font-family="Liberation Sans, Arial, sans-serif">Small Thread Pool + Async I/O</text>

                    <!-- Event loop core -->
                    <circle cx="105" cy="60" r="40" fill="#d1fae5" stroke="#10b981" stroke-width="2"/>
                    <text x="105" y="55" text-anchor="middle" font-size="10" font-weight="500" fill="#047857" font-family="Liberation Sans, Arial, sans-serif">Event</text>
                    <text x="105" y="68" text-anchor="middle" font-size="10" font-weight="500" fill="#047857" font-family="Liberation Sans, Arial, sans-serif">Loop</text>

                    <!-- Connections radiating out -->
                    <line x1="105" y1="20" x2="105" y2="10" stroke="#10b981" stroke-width="1"/>
                    <line x1="145" y1="60" x2="155" y2="60" stroke="#10b981" stroke-width="1"/>
                    <line x1="65" y1="60" x2="55" y2="60" stroke="#10b981" stroke-width="1"/>
                    <line x1="135" y1="35" x2="145" y2="25" stroke="#10b981" stroke-width="1"/>
                    <line x1="75" y1="35" x2="65" y2="25" stroke="#10b981" stroke-width="1"/>
                    <line x1="135" y1="85" x2="145" y2="95" stroke="#10b981" stroke-width="1"/>
                    <line x1="75" y1="85" x2="65" y2="95" stroke="#10b981" stroke-width="1"/>

                    <!-- VU labels around -->
                    <text x="105" y="5" text-anchor="middle" font-size="10" fill="#059669" font-family="Liberation Sans, Arial, sans-serif">VU 1-1000</text>
                    <text x="170" y="63" text-anchor="start" font-size="10" fill="#059669" font-family="Liberation Sans, Arial, sans-serif">VU 1001-2000</text>
                    <text x="40" y="63" text-anchor="end" font-size="10" fill="#059669" font-family="Liberation Sans, Arial, sans-serif">VU 2001-3000</text>

                    <text x="105" y="125" text-anchor="middle" font-size="10" fill="#64748b" font-family="Liberation Sans, Arial, sans-serif">50,000+ VUs per machine</text>
                </g>

                <!-- Memory usage indicator -->
                <g transform="translate(30, 190)">
                    <text x="0" y="0" font-size="10" font-weight="500" fill="#475569" font-family="Liberation Sans, Arial, sans-serif">Memory Usage</text>
                    <rect x="0" y="10" width="200" height="16" rx="3" fill="#f1f5f9" stroke="#e2e8f0" stroke-width="1"/>
                    <rect x="0" y="10" width="50" height="16" rx="3" fill="#10b981"/>
                    <text x="100" y="22" text-anchor="middle" font-size="10" font-weight="500" fill="#059669" font-family="Liberation Sans, Arial, sans-serif">0.5-2 GB (Low)</text>
                </g>

                <!-- Characteristics -->
                <g transform="translate(20, 245)">
                    <rect x="0" y="0" width="230" height="115" rx="4" fill="#d1fae5" stroke="#bbf7d0" stroke-width="1"/>
                    <text x="115" y="18" text-anchor="middle" font-size="10" font-weight="600" fill="#047857" font-family="Liberation Sans, Arial, sans-serif">Characteristics</text>
                    <line x1="10" y1="28" x2="220" y2="28" stroke="#bbf7d0" stroke-width="1"/>

                    <text x="20" y="45" font-size="10" fill="#059669" font-family="Liberation Sans, Arial, sans-serif">+ Very low memory overhead</text>
                    <text x="20" y="60" font-size="10" fill="#059669" font-family="Liberation Sans, Arial, sans-serif">+ High VU count per machine</text>
                    <text x="20" y="75" font-size="10" fill="#059669" font-family="Liberation Sans, Arial, sans-serif">+ CI/CD friendly (k6)</text>
                    <text x="20" y="90" font-size="10" fill="#059669" font-family="Liberation Sans, Arial, sans-serif">+ Script as code</text>
                    <text x="20" y="105" font-size="10" fill="#059669" font-family="Liberation Sans, Arial, sans-serif">- Primarily HTTP focused</text>
                </g>
            </g>

            <!-- Constant-Throughput (wrk2) -->
            <g transform="translate(610, 55)">
                <rect x="0" y="0" width="270" height="380" rx="8" fill="#f8fafc" stroke="#e2e8f0" stroke-width="1" filter="url(#dropShadow)"/>

                <!-- Title bar -->
                <rect x="0" y="0" width="270" height="36" rx="8" fill="url(#constantGradient)"/>
                <rect x="0" y="28" width="270" height="8" fill="url(#constantGradient)"/>
                <text x="135" y="24" text-anchor="middle" font-size="12" font-weight="600" fill="white" font-family="Liberation Sans, Arial, sans-serif">Constant-Throughput (wrk2)</text>

                <!-- Request rate visualization -->
                <g transform="translate(30, 55)">
                    <text x="105" y="0" text-anchor="middle" font-size="10" fill="#64748b" font-family="Liberation Sans, Arial, sans-serif">Fixed Request Rate</text>

                    <!-- Time axis -->
                    <line x1="10" y1="100" x2="200" y2="100" stroke="#94a3b8" stroke-width="1"/>
                    <text x="200" y="115" text-anchor="end" font-size="10" fill="#64748b" font-family="Liberation Sans, Arial, sans-serif">Time</text>

                    <!-- Request rate line (flat) -->
                    <line x1="10" y1="40" x2="200" y2="40" stroke="#3b82f6" stroke-width="3"/>

                    <!-- Request ticks at constant intervals -->
                    <line x1="30" y1="35" x2="30" y2="45" stroke="#1d4ed8" stroke-width="2"/>
                    <line x1="50" y1="35" x2="50" y2="45" stroke="#1d4ed8" stroke-width="2"/>
                    <line x1="70" y1="35" x2="70" y2="45" stroke="#1d4ed8" stroke-width="2"/>
                    <line x1="90" y1="35" x2="90" y2="45" stroke="#1d4ed8" stroke-width="2"/>
                    <line x1="110" y1="35" x2="110" y2="45" stroke="#1d4ed8" stroke-width="2"/>
                    <line x1="130" y1="35" x2="130" y2="45" stroke="#1d4ed8" stroke-width="2"/>
                    <line x1="150" y1="35" x2="150" y2="45" stroke="#1d4ed8" stroke-width="2"/>
                    <line x1="170" y1="35" x2="170" y2="45" stroke="#1d4ed8" stroke-width="2"/>
                    <line x1="190" y1="35" x2="190" y2="45" stroke="#1d4ed8" stroke-width="2"/>

                    <!-- Rate annotation -->
                    <text x="105" y="25" text-anchor="middle" font-size="10" fill="#1d4ed8" font-family="Liberation Sans, Arial, sans-serif">10,000 req/sec (constant)</text>

                    <!-- Response time doesn't affect rate -->
                    <rect x="50" y="55" width="30" height="40" rx="2" fill="#dbeafe" stroke="#93c5fd" stroke-width="1"/>
                    <text x="65" y="78" text-anchor="middle" font-size="10" fill="#3b82f6" font-family="Liberation Sans, Arial, sans-serif">Slow</text>
                    <text x="65" y="88" text-anchor="middle" font-size="10" fill="#3b82f6" font-family="Liberation Sans, Arial, sans-serif">resp</text>

                    <text x="105" y="115" text-anchor="middle" font-size="10" fill="#64748b" font-family="Liberation Sans, Arial, sans-serif">Rate stays constant even if server slows</text>
                </g>

                <!-- Accuracy indicator -->
                <g transform="translate(30, 190)">
                    <text x="0" y="0" font-size="10" font-weight="500" fill="#475569" font-family="Liberation Sans, Arial, sans-serif">Latency Accuracy</text>
                    <rect x="0" y="10" width="200" height="16" rx="3" fill="#f1f5f9" stroke="#e2e8f0" stroke-width="1"/>
                    <rect x="0" y="10" width="200" height="16" rx="3" fill="#3b82f6"/>
                    <text x="100" y="22" text-anchor="middle" font-size="10" font-weight="500" fill="white" font-family="Liberation Sans, Arial, sans-serif">Highest (No Coordinated Omission)</text>
                </g>

                <!-- Characteristics -->
                <g transform="translate(20, 245)">
                    <rect x="0" y="0" width="230" height="115" rx="4" fill="#dbeafe" stroke="#93c5fd" stroke-width="1"/>
                    <text x="115" y="18" text-anchor="middle" font-size="10" font-weight="600" fill="#1e40af" font-family="Liberation Sans, Arial, sans-serif">Characteristics</text>
                    <line x1="10" y1="28" x2="220" y2="28" stroke="#93c5fd" stroke-width="1"/>

                    <text x="20" y="45" font-size="10" fill="#3b82f6" font-family="Liberation Sans, Arial, sans-serif">+ Accurate latency measurement</text>
                    <text x="20" y="60" font-size="10" fill="#3b82f6" font-family="Liberation Sans, Arial, sans-serif">+ No coordinated omission</text>
                    <text x="20" y="75" font-size="10" fill="#3b82f6" font-family="Liberation Sans, Arial, sans-serif">+ Reveals true tail latency</text>
                    <text x="20" y="90" font-size="10" fill="#3b82f6" font-family="Liberation Sans, Arial, sans-serif">- Limited scripting (Lua)</text>
                    <text x="20" y="105" font-size="10" fill="#3b82f6" font-family="Liberation Sans, Arial, sans-serif">- Best for benchmarks, not scenarios</text>
                </g>
            </g>
        </svg>
    </div>
</body>
</html>
