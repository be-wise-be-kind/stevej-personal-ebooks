<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Message Queue Architecture Comparison</title>
    <style>
        body {
            font-family: Liberation Sans, Arial, sans-serif;
            background: #f8fafc;
            margin: 0;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }
        .diagram-container {
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            padding: 24px;
            max-width: 100%;
        }
        svg {
            display: block;
            margin: 0 auto;
        }
    </style>
</head>
<body>
    <div class="diagram-container">
        
        <svg viewBox="0 0 1000 850" xmlns="http://www.w3.org/2000/svg">
            <!-- Title -->
            <text x="500.0" y="30" text-anchor="middle" font-family="Liberation Sans, Arial, sans-serif" font-size="20" font-weight="600" fill="#1e293b">Message Queue Architecture Comparison</text>

            <defs>
                <linearGradient id="kafkaGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                    <stop offset="0%" style="stop-color:#1e293b;stop-opacity:1" />
                    <stop offset="100%" style="stop-color:#334155;stop-opacity:1" />
                </linearGradient>
                <linearGradient id="rabbitGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                    <stop offset="0%" style="stop-color:#f97316;stop-opacity:1" />
                    <stop offset="100%" style="stop-color:#ea580c;stop-opacity:1" />
                </linearGradient>
                <linearGradient id="sqsGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                    <stop offset="0%" style="stop-color:#f59e0b;stop-opacity:1" />
                    <stop offset="100%" style="stop-color:#d97706;stop-opacity:1" />
                </linearGradient>
                <linearGradient id="producerGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                    <stop offset="0%" style="stop-color:#3b82f6;stop-opacity:1" />
                    <stop offset="100%" style="stop-color:#2563eb;stop-opacity:1" />
                </linearGradient>
                <linearGradient id="consumerGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                    <stop offset="0%" style="stop-color:#10b981;stop-opacity:1" />
                    <stop offset="100%" style="stop-color:#059669;stop-opacity:1" />
                </linearGradient>
                <linearGradient id="partitionGrad" x1="0%" y1="0%" x2="0%" y2="100%">
                    <stop offset="0%" style="stop-color:#64748b;stop-opacity:1" />
                    <stop offset="100%" style="stop-color:#475569;stop-opacity:1" />
                </linearGradient>
                <marker id="arrowBlack" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
                    <path d="M0,0 L0,6 L9,3 z" fill="#475569"/>
                </marker>
                <marker id="arrowOrange" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
                    <path d="M0,0 L0,6 L9,3 z" fill="#f97316"/>
                </marker>
                <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
                    <feDropShadow dx="2" dy="2" stdDeviation="3" flood-opacity="0.15"/>
                </filter>
            </defs>

            <!-- Section Dividers -->
            <line x1="0" y1="295" x2="1000" y2="295" stroke="#e2e8f0" stroke-width="2"/>
            <line x1="0" y1="550" x2="1000" y2="550" stroke="#e2e8f0" stroke-width="2"/>

            <!-- ==================== KAFKA SECTION ==================== -->
            <rect x="20" y="55" width="960" height="230" rx="8" fill="#f8fafc" stroke="#e2e8f0" stroke-width="1"/>

            <!-- Kafka Title -->
            <rect x="40" y="70" width="120" height="30" rx="6" fill="url(#kafkaGrad)" filter="url(#shadow)"/>
            <text x="100" y="90" font-family="inherit" font-size="13" font-weight="600" fill="white" text-anchor="middle">Apache Kafka</text>

            <!-- Kafka Producer -->
            <rect x="40" y="120" width="80" height="50" rx="6" fill="url(#producerGrad)" filter="url(#shadow)"/>
            <text x="80" y="150" font-family="inherit" font-size="12" font-weight="500" fill="white" text-anchor="middle">Producer</text>

            <!-- Arrow to Topic -->
            <line x1="125" y1="145" x2="175" y2="145" stroke="#475569" stroke-width="2" marker-end="url(#arrowBlack)"/>

            <!-- Kafka Topic with Partitions -->
            <rect x="180" y="110" width="400" height="155" rx="6" fill="#f1f5f9" stroke="#cbd5e1" stroke-width="1"/>
            <text x="380" y="133" font-family="inherit" font-size="12" font-weight="600" fill="#334155" text-anchor="middle">Topic: orders</text>

            <!-- Partition 0 -->
            <rect x="200" y="150" width="160" height="50" rx="4" fill="url(#partitionGrad)" filter="url(#shadow)"/>
            <text x="280" y="180" font-family="inherit" font-size="11" font-weight="500" fill="white" text-anchor="middle">Partition 0</text>
            <!-- Log segments -->
            <rect x="365" y="155" width="18" height="40" rx="2" fill="#94a3b8"/>
            <rect x="385" y="155" width="18" height="40" rx="2" fill="#94a3b8"/>
            <rect x="405" y="155" width="18" height="40" rx="2" fill="#94a3b8"/>
            <rect x="425" y="155" width="18" height="40" rx="2" fill="#64748b"/>
            <text x="425" y="210" font-family="inherit" font-size="9" fill="#64748b" text-anchor="middle">offset: 103</text>

            <!-- Partition 1 -->
            <rect x="200" y="210" width="160" height="50" rx="4" fill="url(#partitionGrad)" filter="url(#shadow)"/>
            <text x="280" y="240" font-family="inherit" font-size="11" font-weight="500" fill="white" text-anchor="middle">Partition 1</text>
            <!-- Log segments -->
            <rect x="365" y="215" width="18" height="40" rx="2" fill="#94a3b8"/>
            <rect x="385" y="215" width="18" height="40" rx="2" fill="#94a3b8"/>
            <rect x="405" y="215" width="18" height="40" rx="2" fill="#64748b"/>
            <text x="405" y="270" font-family="inherit" font-size="9" fill="#64748b" text-anchor="middle">offset: 87</text>

            <!-- Arrow to Consumer Group -->
            <line x1="585" y1="190" x2="635" y2="190" stroke="#475569" stroke-width="2" marker-end="url(#arrowBlack)"/>

            <!-- Consumer Group -->
            <rect x="640" y="115" width="160" height="155" rx="6" fill="#ecfdf5" stroke="#a7f3d0" stroke-width="1"/>
            <text x="720" y="140" font-family="inherit" font-size="11" font-weight="600" fill="#065f46" text-anchor="middle">Consumer Group</text>

            <rect x="660" y="153" width="120" height="50" rx="4" fill="url(#consumerGrad)" filter="url(#shadow)"/>
            <text x="720" y="178" font-family="inherit" font-size="11" font-weight="500" fill="white" text-anchor="middle">Consumer 1</text>
            <text x="720" y="197" font-family="inherit" font-size="9" fill="rgba(255,255,255,0.9)" text-anchor="middle">offset: 103</text>

            <rect x="660" y="213" width="120" height="50" rx="4" fill="url(#consumerGrad)" filter="url(#shadow)"/>
            <text x="720" y="238" font-family="inherit" font-size="11" font-weight="500" fill="white" text-anchor="middle">Consumer 2</text>
            <text x="720" y="257" font-family="inherit" font-size="9" fill="rgba(255,255,255,0.9)" text-anchor="middle">offset: 85</text>

            <!-- Kafka Key Features -->
            <text x="860" y="135" font-family="inherit" font-size="10" fill="#475569">High throughput</text>
            <text x="860" y="157" font-family="inherit" font-size="10" fill="#475569">Ordered per partition</text>
            <text x="860" y="179" font-family="inherit" font-size="10" fill="#475569">Offset tracking</text>
            <text x="860" y="201" font-family="inherit" font-size="10" fill="#475569">Message replay</text>
            <text x="860" y="223" font-family="inherit" font-size="10" fill="#475569">Exactly-once option</text>

            <!-- ==================== RABBITMQ SECTION ==================== -->
            <rect x="20" y="315" width="960" height="225" rx="8" fill="#fff7ed" stroke="#fed7aa" stroke-width="1"/>

            <!-- RabbitMQ Title -->
            <rect x="40" y="332" width="120" height="35" rx="6" fill="url(#rabbitGrad)" filter="url(#shadow)"/>
            <text x="100" y="355" font-family="inherit" font-size="13" font-weight="600" fill="white" text-anchor="middle">RabbitMQ</text>

            <!-- RabbitMQ Producer -->
            <rect x="40" y="390" width="80" height="55" rx="6" fill="url(#producerGrad)" filter="url(#shadow)"/>
            <text x="80" y="423" font-family="inherit" font-size="12" font-weight="500" fill="white" text-anchor="middle">Producer</text>

            <!-- Arrow to Exchange -->
            <line x1="125" y1="417" x2="175" y2="417" stroke="#f97316" stroke-width="2" marker-end="url(#arrowOrange)"/>

            <!-- Exchange -->
            <polygon points="230,382 285,417 230,452 175,417" fill="url(#rabbitGrad)" filter="url(#shadow)"/>
            <text x="230" y="422" font-family="inherit" font-size="10" font-weight="500" fill="white" text-anchor="middle">Exchange</text>

            <!-- Routing lines -->
            <line x1="285" y1="400" x2="345" y2="375" stroke="#f97316" stroke-width="1.5"/>
            <line x1="285" y1="417" x2="345" y2="417" stroke="#f97316" stroke-width="1.5"/>
            <line x1="285" y1="434" x2="345" y2="460" stroke="#f97316" stroke-width="1.5"/>

            <!-- Routing Key Labels -->
            <text x="315" y="370" font-family="inherit" font-size="9" fill="#ea580c">order.*</text>
            <text x="315" y="412" font-family="inherit" font-size="9" fill="#ea580c">payment.*</text>
            <text x="315" y="472" font-family="inherit" font-size="9" fill="#ea580c">notify.*</text>

            <!-- Queue 1 -->
            <rect x="350" y="355" width="140" height="45" rx="4" fill="#fdba74" stroke="#f97316" stroke-width="1"/>
            <!-- Messages in queue -->
            <rect x="425" y="363" width="12" height="28" rx="2" fill="#fb923c"/>
            <rect x="440" y="363" width="12" height="28" rx="2" fill="#fb923c"/>
            <rect x="455" y="363" width="12" height="28" rx="2" fill="#fb923c"/>
            <rect x="470" y="363" width="12" height="28" rx="2" fill="#fb923c"/>
            <!-- Queue label on top -->
            <text x="420" y="383" font-family="inherit" font-size="11" font-weight="500" fill="#9a3412" text-anchor="middle">orders_queue</text>

            <!-- Queue 2 -->
            <rect x="350" y="405" width="140" height="45" rx="4" fill="#fdba74" stroke="#f97316" stroke-width="1"/>
            <rect x="455" y="413" width="12" height="28" rx="2" fill="#fb923c"/>
            <rect x="470" y="413" width="12" height="28" rx="2" fill="#fb923c"/>
            <!-- Queue label on top -->
            <text x="420" y="433" font-family="inherit" font-size="11" font-weight="500" fill="#9a3412" text-anchor="middle">payments_queue</text>

            <!-- Queue 3 -->
            <rect x="350" y="455" width="140" height="45" rx="4" fill="#fdba74" stroke="#f97316" stroke-width="1"/>
            <rect x="440" y="463" width="12" height="28" rx="2" fill="#fb923c"/>
            <rect x="455" y="463" width="12" height="28" rx="2" fill="#fb923c"/>
            <rect x="470" y="463" width="12" height="28" rx="2" fill="#fb923c"/>
            <!-- Queue label on top -->
            <text x="420" y="483" font-family="inherit" font-size="11" font-weight="500" fill="#9a3412" text-anchor="middle">notify_queue</text>

            <!-- Arrows to consumers -->
            <line x1="495" y1="377" x2="555" y2="377" stroke="#f97316" stroke-width="1.5" marker-end="url(#arrowOrange)"/>
            <line x1="495" y1="427" x2="555" y2="427" stroke="#f97316" stroke-width="1.5" marker-end="url(#arrowOrange)"/>
            <line x1="495" y1="477" x2="555" y2="477" stroke="#f97316" stroke-width="1.5" marker-end="url(#arrowOrange)"/>

            <!-- Consumers -->
            <rect x="560" y="355" width="100" height="50" rx="4" fill="url(#consumerGrad)" filter="url(#shadow)"/>
            <text x="610" y="385" font-family="inherit" font-size="11" font-weight="500" fill="white" text-anchor="middle">Consumer</text>

            <rect x="560" y="410" width="100" height="50" rx="4" fill="url(#consumerGrad)" filter="url(#shadow)"/>
            <text x="610" y="440" font-family="inherit" font-size="11" font-weight="500" fill="white" text-anchor="middle">Consumer</text>

            <rect x="560" y="465" width="100" height="50" rx="4" fill="url(#consumerGrad)" filter="url(#shadow)"/>
            <text x="610" y="495" font-family="inherit" font-size="11" font-weight="500" fill="white" text-anchor="middle">Consumer</text>

            <!-- ACK arrows -->
            <path d="M 610 408 Q 625 425 610 442" stroke="#10b981" stroke-width="1.5" fill="none" stroke-dasharray="3,2"/>
            <text x="645" y="428" font-family="inherit" font-size="9" fill="#059669">ACK</text>

            <!-- RabbitMQ Features -->
            <text x="860" y="375" font-family="inherit" font-size="10" fill="#475569">Flexible routing</text>
            <text x="860" y="397" font-family="inherit" font-size="10" fill="#475569">Per-message ACK</text>
            <text x="860" y="419" font-family="inherit" font-size="10" fill="#475569">Multiple protocols</text>
            <text x="860" y="441" font-family="inherit" font-size="10" fill="#475569">Push-based delivery</text>
            <text x="860" y="463" font-family="inherit" font-size="10" fill="#475569">At-least-once default</text>

            <!-- ==================== SQS SECTION ==================== -->
            <rect x="20" y="570" width="960" height="260" rx="8" fill="#fefce8" stroke="#fef08a" stroke-width="1"/>

            <!-- SQS Title -->
            <rect x="40" y="588" width="120" height="35" rx="6" fill="url(#sqsGrad)" filter="url(#shadow)"/>
            <text x="100" y="611" font-family="inherit" font-size="13" font-weight="600" fill="white" text-anchor="middle">Amazon SQS</text>

            <!-- SQS Producer -->
            <rect x="40" y="660" width="80" height="55" rx="6" fill="url(#producerGrad)" filter="url(#shadow)"/>
            <text x="80" y="693" font-family="inherit" font-size="12" font-weight="500" fill="white" text-anchor="middle">Producer</text>

            <!-- Arrow to SQS -->
            <line x1="125" y1="687" x2="195" y2="687" stroke="#d97706" stroke-width="2" marker-end="url(#arrowBlack)"/>

            <!-- SQS Queue -->
            <rect x="200" y="630" width="300" height="120" rx="8" fill="#fef3c7" stroke="#fbbf24" stroke-width="2"/>

            <text x="350" y="668" font-family="inherit" font-size="12" font-weight="600" fill="#92400e" text-anchor="middle">SQS Queue</text>
            <text x="350" y="688" font-family="inherit" font-size="10" fill="#a16207" text-anchor="middle">Fully Managed</text>

            <!-- Messages -->
            <rect x="220" y="705" width="28" height="30" rx="3" fill="#fbbf24"/>
            <rect x="252" y="705" width="28" height="30" rx="3" fill="#fbbf24"/>
            <rect x="284" y="705" width="28" height="30" rx="3" fill="#fbbf24"/>
            <rect x="316" y="705" width="28" height="30" rx="3" fill="#f59e0b"/>
            <rect x="348" y="705" width="28" height="30" rx="3" fill="#d97706" opacity="0.7"/>

            <!-- Visibility Timeout indicator -->
            <rect x="316" y="705" width="28" height="30" rx="3" fill="none" stroke="#ef4444" stroke-width="2" stroke-dasharray="3,2"/>
            <text x="330" y="750" font-family="inherit" font-size="9" fill="#dc2626" text-anchor="middle">In Flight</text>

            <!-- Arrow to Consumer -->
            <line x1="505" y1="687" x2="575" y2="687" stroke="#d97706" stroke-width="2" marker-end="url(#arrowBlack)"/>
            <text x="540" y="675" font-family="inherit" font-size="9" fill="#92400e" text-anchor="middle">Poll</text>

            <!-- SQS Consumer -->
            <rect x="580" y="660" width="100" height="55" rx="6" fill="url(#consumerGrad)" filter="url(#shadow)"/>
            <text x="630" y="693" font-family="inherit" font-size="11" font-weight="500" fill="white" text-anchor="middle">Consumer</text>

            <!-- Delete arrow (orthogonal) -->
            <path d="M 630 655 L 630 605 L 400 605 L 400 630" stroke="#10b981" stroke-width="1.5" fill="none" stroke-dasharray="3,2" marker-end="url(#arrowBlack)"/>
            <text x="515" y="597" font-family="inherit" font-size="9" fill="#059669">Delete after process</text>

            <!-- Visibility Timeout Box -->
            <rect x="700" y="635" width="140" height="110" rx="4" fill="#fef9c3" stroke="#fde047" stroke-width="1"/>
            <text x="770" y="660" font-family="inherit" font-size="10" font-weight="600" fill="#854d0e" text-anchor="middle">Visibility Timeout</text>
            <text x="770" y="685" font-family="inherit" font-size="9" fill="#a16207" text-anchor="middle">Message hidden while</text>
            <text x="770" y="705" font-family="inherit" font-size="9" fill="#a16207" text-anchor="middle">being processed</text>
            <text x="770" y="732" font-family="inherit" font-size="9" fill="#a16207" text-anchor="middle">Default: 30 seconds</text>

            <!-- SQS Features -->
            <text x="870" y="600" font-family="inherit" font-size="10" fill="#475569">Zero ops overhead</text>
            <text x="870" y="622" font-family="inherit" font-size="10" fill="#475569">Auto-scaling</text>
            <text x="870" y="644" font-family="inherit" font-size="10" fill="#475569">Standard + FIFO</text>
            <text x="870" y="666" font-family="inherit" font-size="10" fill="#475569">At-least-once</text>
            <text x="870" y="688" font-family="inherit" font-size="10" fill="#475569">AWS integration</text>
        </svg>
    </div>
</body>
</html>
