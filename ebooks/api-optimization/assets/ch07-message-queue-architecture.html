<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Message Queue Architecture Comparison</title>
    <style>
        body {
            font-family: Liberation Sans, Arial, sans-serif;
            background: #f8fafc;
            margin: 0;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }
        .diagram-container {
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            padding: 24px;
            max-width: 100%;
        }
        svg {
            display: block;
            margin: 0 auto;
        }
    </style>
</head>
<body>
    <div class="diagram-container">
        
        <svg viewBox="0 0 1000 800" xmlns="http://www.w3.org/2000/svg">
            <!-- Title -->
            <text x="500.0" y="30" text-anchor="middle" font-family="Liberation Sans, Arial, sans-serif" font-size="20" font-weight="600" fill="#1e293b">Message Queue Architecture Comparison</text>

            <defs>
                <linearGradient id="kafkaGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                    <stop offset="0%" style="stop-color:#1e293b;stop-opacity:1" />
                    <stop offset="100%" style="stop-color:#334155;stop-opacity:1" />
                </linearGradient>
                <linearGradient id="rabbitGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                    <stop offset="0%" style="stop-color:#f97316;stop-opacity:1" />
                    <stop offset="100%" style="stop-color:#ea580c;stop-opacity:1" />
                </linearGradient>
                <linearGradient id="sqsGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                    <stop offset="0%" style="stop-color:#f59e0b;stop-opacity:1" />
                    <stop offset="100%" style="stop-color:#d97706;stop-opacity:1" />
                </linearGradient>
                <linearGradient id="producerGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                    <stop offset="0%" style="stop-color:#3b82f6;stop-opacity:1" />
                    <stop offset="100%" style="stop-color:#2563eb;stop-opacity:1" />
                </linearGradient>
                <linearGradient id="consumerGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                    <stop offset="0%" style="stop-color:#10b981;stop-opacity:1" />
                    <stop offset="100%" style="stop-color:#059669;stop-opacity:1" />
                </linearGradient>
                <linearGradient id="partitionGrad" x1="0%" y1="0%" x2="0%" y2="100%">
                    <stop offset="0%" style="stop-color:#64748b;stop-opacity:1" />
                    <stop offset="100%" style="stop-color:#475569;stop-opacity:1" />
                </linearGradient>
                <marker id="arrowBlack" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
                    <path d="M0,0 L0,6 L9,3 z" fill="#475569"/>
                </marker>
                <marker id="arrowOrange" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
                    <path d="M0,0 L0,6 L9,3 z" fill="#f97316"/>
                </marker>
                <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
                    <feDropShadow dx="2" dy="2" stdDeviation="3" flood-opacity="0.15"/>
                </filter>
            </defs>

            <!-- Section Dividers -->
            <line x1="0" y1="255" x2="1000" y2="255" stroke="#e2e8f0" stroke-width="2"/>
            <line x1="0" y1="510" x2="1000" y2="510" stroke="#e2e8f0" stroke-width="2"/>

            <!-- ==================== KAFKA SECTION ==================== -->
            <rect x="20" y="20" width="960" height="225" rx="8" fill="#f8fafc" stroke="#e2e8f0" stroke-width="1"/>

            <!-- Kafka Title -->
            <rect x="40" y="35" width="120" height="30" rx="6" fill="url(#kafkaGrad)" filter="url(#shadow)"/>
            <text x="100" y="55" font-family="inherit" font-size="13" font-weight="600" fill="white" text-anchor="middle">Apache Kafka</text>

            <!-- Kafka Producer -->
            <rect x="40" y="85" width="80" height="50" rx="6" fill="url(#producerGrad)" filter="url(#shadow)"/>
            <text x="80" y="115" font-family="inherit" font-size="12" font-weight="500" fill="white" text-anchor="middle">Producer</text>

            <!-- Arrow to Topic -->
            <line x1="125" y1="110" x2="175" y2="110" stroke="#475569" stroke-width="2" marker-end="url(#arrowBlack)"/>

            <!-- Kafka Topic with Partitions -->
            <rect x="180" y="75" width="400" height="155" rx="6" fill="#f1f5f9" stroke="#cbd5e1" stroke-width="1"/>
            <text x="380" y="98" font-family="inherit" font-size="12" font-weight="600" fill="#334155" text-anchor="middle">Topic: orders</text>

            <!-- Partition 0 -->
            <rect x="200" y="115" width="160" height="50" rx="4" fill="url(#partitionGrad)" filter="url(#shadow)"/>
            <text x="280" y="145" font-family="inherit" font-size="11" font-weight="500" fill="white" text-anchor="middle">Partition 0</text>
            <!-- Log segments -->
            <rect x="365" y="120" width="18" height="40" rx="2" fill="#94a3b8"/>
            <rect x="385" y="120" width="18" height="40" rx="2" fill="#94a3b8"/>
            <rect x="405" y="120" width="18" height="40" rx="2" fill="#94a3b8"/>
            <rect x="425" y="120" width="18" height="40" rx="2" fill="#64748b"/>
            <text x="425" y="175" font-family="inherit" font-size="9" fill="#64748b" text-anchor="middle">offset: 103</text>

            <!-- Partition 1 -->
            <rect x="200" y="175" width="160" height="50" rx="4" fill="url(#partitionGrad)" filter="url(#shadow)"/>
            <text x="280" y="205" font-family="inherit" font-size="11" font-weight="500" fill="white" text-anchor="middle">Partition 1</text>
            <!-- Log segments -->
            <rect x="365" y="180" width="18" height="40" rx="2" fill="#94a3b8"/>
            <rect x="385" y="180" width="18" height="40" rx="2" fill="#94a3b8"/>
            <rect x="405" y="180" width="18" height="40" rx="2" fill="#64748b"/>
            <text x="405" y="235" font-family="inherit" font-size="9" fill="#64748b" text-anchor="middle">offset: 87</text>

            <!-- Arrow to Consumer Group -->
            <line x1="585" y1="155" x2="635" y2="155" stroke="#475569" stroke-width="2" marker-end="url(#arrowBlack)"/>

            <!-- Consumer Group -->
            <rect x="640" y="80" width="160" height="155" rx="6" fill="#ecfdf5" stroke="#a7f3d0" stroke-width="1"/>
            <text x="720" y="105" font-family="inherit" font-size="11" font-weight="600" fill="#065f46" text-anchor="middle">Consumer Group</text>

            <rect x="660" y="118" width="120" height="50" rx="4" fill="url(#consumerGrad)" filter="url(#shadow)"/>
            <text x="720" y="143" font-family="inherit" font-size="11" font-weight="500" fill="white" text-anchor="middle">Consumer 1</text>
            <text x="720" y="162" font-family="inherit" font-size="9" fill="rgba(255,255,255,0.9)" text-anchor="middle">offset: 103</text>

            <rect x="660" y="178" width="120" height="50" rx="4" fill="url(#consumerGrad)" filter="url(#shadow)"/>
            <text x="720" y="203" font-family="inherit" font-size="11" font-weight="500" fill="white" text-anchor="middle">Consumer 2</text>
            <text x="720" y="222" font-family="inherit" font-size="9" fill="rgba(255,255,255,0.9)" text-anchor="middle">offset: 85</text>

            <!-- Kafka Key Features -->
            <text x="860" y="100" font-family="inherit" font-size="10" fill="#475569">High throughput</text>
            <text x="860" y="122" font-family="inherit" font-size="10" fill="#475569">Ordered per partition</text>
            <text x="860" y="144" font-family="inherit" font-size="10" fill="#475569">Offset tracking</text>
            <text x="860" y="166" font-family="inherit" font-size="10" fill="#475569">Message replay</text>
            <text x="860" y="188" font-family="inherit" font-size="10" fill="#475569">Exactly-once option</text>

            <!-- ==================== RABBITMQ SECTION ==================== -->
            <rect x="20" y="275" width="960" height="225" rx="8" fill="#fff7ed" stroke="#fed7aa" stroke-width="1"/>

            <!-- RabbitMQ Title -->
            <rect x="40" y="292" width="120" height="35" rx="6" fill="url(#rabbitGrad)" filter="url(#shadow)"/>
            <text x="100" y="315" font-family="inherit" font-size="13" font-weight="600" fill="white" text-anchor="middle">RabbitMQ</text>

            <!-- RabbitMQ Producer -->
            <rect x="40" y="350" width="80" height="55" rx="6" fill="url(#producerGrad)" filter="url(#shadow)"/>
            <text x="80" y="383" font-family="inherit" font-size="12" font-weight="500" fill="white" text-anchor="middle">Producer</text>

            <!-- Arrow to Exchange -->
            <line x1="125" y1="377" x2="175" y2="377" stroke="#f97316" stroke-width="2" marker-end="url(#arrowOrange)"/>

            <!-- Exchange -->
            <polygon points="230,342 285,377 230,412 175,377" fill="url(#rabbitGrad)" filter="url(#shadow)"/>
            <text x="230" y="382" font-family="inherit" font-size="10" font-weight="500" fill="white" text-anchor="middle">Exchange</text>

            <!-- Routing lines -->
            <line x1="285" y1="360" x2="345" y2="335" stroke="#f97316" stroke-width="1.5"/>
            <line x1="285" y1="377" x2="345" y2="377" stroke="#f97316" stroke-width="1.5"/>
            <line x1="285" y1="394" x2="345" y2="420" stroke="#f97316" stroke-width="1.5"/>

            <!-- Routing Key Labels -->
            <text x="315" y="330" font-family="inherit" font-size="9" fill="#ea580c">order.*</text>
            <text x="315" y="372" font-family="inherit" font-size="9" fill="#ea580c">payment.*</text>
            <text x="315" y="432" font-family="inherit" font-size="9" fill="#ea580c">notify.*</text>

            <!-- Queue 1 -->
            <rect x="350" y="315" width="140" height="45" rx="4" fill="#fdba74" stroke="#f97316" stroke-width="1"/>
            <!-- Messages in queue -->
            <rect x="425" y="323" width="12" height="28" rx="2" fill="#fb923c"/>
            <rect x="440" y="323" width="12" height="28" rx="2" fill="#fb923c"/>
            <rect x="455" y="323" width="12" height="28" rx="2" fill="#fb923c"/>
            <rect x="470" y="323" width="12" height="28" rx="2" fill="#fb923c"/>
            <!-- Queue label on top -->
            <text x="420" y="343" font-family="inherit" font-size="11" font-weight="500" fill="#9a3412" text-anchor="middle">orders_queue</text>

            <!-- Queue 2 -->
            <rect x="350" y="365" width="140" height="45" rx="4" fill="#fdba74" stroke="#f97316" stroke-width="1"/>
            <rect x="455" y="373" width="12" height="28" rx="2" fill="#fb923c"/>
            <rect x="470" y="373" width="12" height="28" rx="2" fill="#fb923c"/>
            <!-- Queue label on top -->
            <text x="420" y="393" font-family="inherit" font-size="11" font-weight="500" fill="#9a3412" text-anchor="middle">payments_queue</text>

            <!-- Queue 3 -->
            <rect x="350" y="415" width="140" height="45" rx="4" fill="#fdba74" stroke="#f97316" stroke-width="1"/>
            <rect x="440" y="423" width="12" height="28" rx="2" fill="#fb923c"/>
            <rect x="455" y="423" width="12" height="28" rx="2" fill="#fb923c"/>
            <rect x="470" y="423" width="12" height="28" rx="2" fill="#fb923c"/>
            <!-- Queue label on top -->
            <text x="420" y="443" font-family="inherit" font-size="11" font-weight="500" fill="#9a3412" text-anchor="middle">notify_queue</text>

            <!-- Arrows to consumers -->
            <line x1="495" y1="337" x2="555" y2="337" stroke="#f97316" stroke-width="1.5" marker-end="url(#arrowOrange)"/>
            <line x1="495" y1="387" x2="555" y2="387" stroke="#f97316" stroke-width="1.5" marker-end="url(#arrowOrange)"/>
            <line x1="495" y1="437" x2="555" y2="437" stroke="#f97316" stroke-width="1.5" marker-end="url(#arrowOrange)"/>

            <!-- Consumers -->
            <rect x="560" y="315" width="100" height="50" rx="4" fill="url(#consumerGrad)" filter="url(#shadow)"/>
            <text x="610" y="345" font-family="inherit" font-size="11" font-weight="500" fill="white" text-anchor="middle">Consumer</text>

            <rect x="560" y="370" width="100" height="50" rx="4" fill="url(#consumerGrad)" filter="url(#shadow)"/>
            <text x="610" y="400" font-family="inherit" font-size="11" font-weight="500" fill="white" text-anchor="middle">Consumer</text>

            <rect x="560" y="425" width="100" height="50" rx="4" fill="url(#consumerGrad)" filter="url(#shadow)"/>
            <text x="610" y="455" font-family="inherit" font-size="11" font-weight="500" fill="white" text-anchor="middle">Consumer</text>

            <!-- ACK arrows -->
            <path d="M 610 368 Q 625 385 610 402" stroke="#10b981" stroke-width="1.5" fill="none" stroke-dasharray="3,2"/>
            <text x="645" y="388" font-family="inherit" font-size="9" fill="#059669">ACK</text>

            <!-- RabbitMQ Features -->
            <text x="750" y="335" font-family="inherit" font-size="10" fill="#475569">Flexible routing</text>
            <text x="750" y="357" font-family="inherit" font-size="10" fill="#475569">Per-message ACK</text>
            <text x="750" y="379" font-family="inherit" font-size="10" fill="#475569">Multiple protocols</text>
            <text x="750" y="401" font-family="inherit" font-size="10" fill="#475569">Push-based delivery</text>
            <text x="750" y="423" font-family="inherit" font-size="10" fill="#475569">At-least-once default</text>

            <!-- ==================== SQS SECTION ==================== -->
            <rect x="20" y="530" width="960" height="250" rx="8" fill="#fefce8" stroke="#fef08a" stroke-width="1"/>

            <!-- SQS Title -->
            <rect x="40" y="548" width="120" height="35" rx="6" fill="url(#sqsGrad)" filter="url(#shadow)"/>
            <text x="100" y="571" font-family="inherit" font-size="13" font-weight="600" fill="white" text-anchor="middle">Amazon SQS</text>

            <!-- SQS Producer -->
            <rect x="40" y="620" width="80" height="55" rx="6" fill="url(#producerGrad)" filter="url(#shadow)"/>
            <text x="80" y="653" font-family="inherit" font-size="12" font-weight="500" fill="white" text-anchor="middle">Producer</text>

            <!-- Arrow to SQS -->
            <line x1="125" y1="647" x2="195" y2="647" stroke="#d97706" stroke-width="2" marker-end="url(#arrowBlack)"/>

            <!-- SQS Queue -->
            <rect x="200" y="590" width="300" height="120" rx="8" fill="#fef3c7" stroke="#fbbf24" stroke-width="2"/>

            <text x="350" y="628" font-family="inherit" font-size="12" font-weight="600" fill="#92400e" text-anchor="middle">SQS Queue</text>
            <text x="350" y="648" font-family="inherit" font-size="10" fill="#a16207" text-anchor="middle">Fully Managed</text>

            <!-- Messages -->
            <rect x="220" y="665" width="28" height="30" rx="3" fill="#fbbf24"/>
            <rect x="252" y="665" width="28" height="30" rx="3" fill="#fbbf24"/>
            <rect x="284" y="665" width="28" height="30" rx="3" fill="#fbbf24"/>
            <rect x="316" y="665" width="28" height="30" rx="3" fill="#f59e0b"/>
            <rect x="348" y="665" width="28" height="30" rx="3" fill="#d97706" opacity="0.7"/>

            <!-- Visibility Timeout indicator -->
            <rect x="316" y="665" width="28" height="30" rx="3" fill="none" stroke="#ef4444" stroke-width="2" stroke-dasharray="3,2"/>
            <text x="330" y="710" font-family="inherit" font-size="9" fill="#dc2626" text-anchor="middle">In Flight</text>

            <!-- Arrow to Consumer -->
            <line x1="505" y1="647" x2="575" y2="647" stroke="#d97706" stroke-width="2" marker-end="url(#arrowBlack)"/>
            <text x="540" y="635" font-family="inherit" font-size="9" fill="#92400e" text-anchor="middle">Poll</text>

            <!-- SQS Consumer -->
            <rect x="580" y="620" width="100" height="55" rx="6" fill="url(#consumerGrad)" filter="url(#shadow)"/>
            <text x="630" y="653" font-family="inherit" font-size="11" font-weight="500" fill="white" text-anchor="middle">Consumer</text>

            <!-- Delete arrow (orthogonal) -->
            <path d="M 630 615 L 630 565 L 400 565 L 400 590" stroke="#10b981" stroke-width="1.5" fill="none" stroke-dasharray="3,2" marker-end="url(#arrowBlack)"/>
            <text x="515" y="557" font-family="inherit" font-size="9" fill="#059669">Delete after process</text>

            <!-- Visibility Timeout Box -->
            <rect x="700" y="595" width="140" height="110" rx="4" fill="#fef9c3" stroke="#fde047" stroke-width="1"/>
            <text x="770" y="620" font-family="inherit" font-size="10" font-weight="600" fill="#854d0e" text-anchor="middle">Visibility Timeout</text>
            <text x="770" y="645" font-family="inherit" font-size="9" fill="#a16207" text-anchor="middle">Message hidden while</text>
            <text x="770" y="665" font-family="inherit" font-size="9" fill="#a16207" text-anchor="middle">being processed</text>
            <text x="770" y="692" font-family="inherit" font-size="9" fill="#a16207" text-anchor="middle">Default: 30 seconds</text>

            <!-- SQS Features -->
            <text x="870" y="560" font-family="inherit" font-size="10" fill="#475569">Zero ops overhead</text>
            <text x="870" y="582" font-family="inherit" font-size="10" fill="#475569">Auto-scaling</text>
            <text x="870" y="604" font-family="inherit" font-size="10" fill="#475569">Standard + FIFO</text>
            <text x="870" y="626" font-family="inherit" font-size="10" fill="#475569">At-least-once</text>
            <text x="870" y="648" font-family="inherit" font-size="10" fill="#475569">AWS integration</text>
        </svg>
    </div>
</body>
</html>
