<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chapter 10: Closer to the User - Edge Computing</title>
    <style>
        body {
            font-family: Liberation Sans, Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background: #f8fafc;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }
        .diagram-container {
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            padding: 24px;
            max-width: 100%;
        }
        svg {
            display: block;
            margin: 0 auto;
        }
    </style>
</head>
<body>
    <div class="diagram-container">
        <svg viewBox="0 0 800 410" xmlns="http://www.w3.org/2000/svg">
            <defs>
                <!-- Origin server gradient -->
                <linearGradient id="originGradient" x1="0%" y1="0%" x2="0%" y2="100%">
                    <stop offset="0%" style="stop-color:#6366f1;stop-opacity:1" />
                    <stop offset="100%" style="stop-color:#4f46e5;stop-opacity:1" />
                </linearGradient>

                <!-- Edge node gradient -->
                <linearGradient id="edgeGradient" x1="0%" y1="0%" x2="0%" y2="100%">
                    <stop offset="0%" style="stop-color:#22c55e;stop-opacity:1" />
                    <stop offset="100%" style="stop-color:#16a34a;stop-opacity:1" />
                </linearGradient>

                <!-- User gradient -->
                <linearGradient id="userGradient" x1="0%" y1="0%" x2="0%" y2="100%">
                    <stop offset="0%" style="stop-color:#3b82f6;stop-opacity:1" />
                    <stop offset="100%" style="stop-color:#2563eb;stop-opacity:1" />
                </linearGradient>

                <!-- Drop shadow filter -->
                <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
                    <feDropShadow dx="0" dy="2" stdDeviation="3" flood-opacity="0.15"/>
                </filter>

                <!-- Glow for edge nodes -->
                <filter id="edgeGlow" x="-50%" y="-50%" width="200%" height="200%">
                    <feGaussianBlur stdDeviation="3" result="blur"/>
                    <feMerge>
                        <feMergeNode in="blur"/>
                        <feMergeNode in="SourceGraphic"/>
                    </feMerge>
                </filter>
            </defs>

            <!-- Background -->
            <rect width="800" height="410" fill="#ffffff" rx="8"/>

            <!-- Title -->
            <text x="400" y="35" text-anchor="middle" fill="#1e293b" font-size="20" font-weight="600" font-family="Liberation Sans, Arial, sans-serif">
                Chapter 10: Closer to the User
            </text>
            <text x="400" y="55" text-anchor="middle" fill="#64748b" font-size="12" font-family="Liberation Sans, Arial, sans-serif">
                Edge computing brings content to where your users are
            </text>

            <!-- Central origin server -->
            <g transform="translate(400, 210)">
                <!-- Origin server circle -->
                <circle cx="0" cy="0" r="40" fill="url(#originGradient)" filter="url(#shadow)"/>
                <!-- Server icon (simplified) -->
                <rect x="-15" y="-20" width="30" height="8" rx="2" fill="#ffffff" opacity="0.9"/>
                <rect x="-15" y="-8" width="30" height="8" rx="2" fill="#ffffff" opacity="0.9"/>
                <rect x="-15" y="4" width="30" height="8" rx="2" fill="#ffffff" opacity="0.9"/>
                <circle cx="10" cy="-16" r="2" fill="#4f46e5"/>
                <circle cx="10" cy="-4" r="2" fill="#4f46e5"/>
                <circle cx="10" cy="8" r="2" fill="#4f46e5"/>
                <text x="0" y="60" text-anchor="middle" fill="#4f46e5" font-size="11" font-weight="600" font-family="Liberation Sans, Arial, sans-serif">
                    Origin Server
                </text>
            </g>

            <!-- Connection lines from origin to edge nodes (subtle) - drawn first so they appear behind edge nodes -->
            <line x1="400" y1="210" x2="180" y2="130" stroke="#e2e8f0" stroke-width="1.5" stroke-dasharray="4,3"/>
            <line x1="400" y1="210" x2="620" y2="130" stroke="#e2e8f0" stroke-width="1.5" stroke-dasharray="4,3"/>
            <line x1="400" y1="210" x2="140" y2="250" stroke="#e2e8f0" stroke-width="1.5" stroke-dasharray="4,3"/>
            <line x1="400" y1="210" x2="660" y2="250" stroke="#e2e8f0" stroke-width="1.5" stroke-dasharray="4,3"/>
            <line x1="400" y1="210" x2="220" y2="330" stroke="#e2e8f0" stroke-width="1.5" stroke-dasharray="4,3"/>
            <line x1="400" y1="210" x2="580" y2="330" stroke="#e2e8f0" stroke-width="1.5" stroke-dasharray="4,3"/>

            <!-- Edge nodes positioned around origin -->
            <!-- Edge 1: Top-left -->
            <g transform="translate(180, 130)">
                <circle cx="0" cy="0" r="22" fill="url(#edgeGradient)" filter="url(#edgeGlow)"/>
                <text x="0" y="4" text-anchor="middle" fill="#ffffff" font-size="10" font-weight="600" font-family="Liberation Sans, Arial, sans-serif">EDGE</text>
            </g>

            <!-- Edge 2: Top-right -->
            <g transform="translate(620, 130)">
                <circle cx="0" cy="0" r="22" fill="url(#edgeGradient)" filter="url(#edgeGlow)"/>
                <text x="0" y="4" text-anchor="middle" fill="#ffffff" font-size="10" font-weight="600" font-family="Liberation Sans, Arial, sans-serif">EDGE</text>
            </g>

            <!-- Edge 3: Left -->
            <g transform="translate(140, 250)">
                <circle cx="0" cy="0" r="22" fill="url(#edgeGradient)" filter="url(#edgeGlow)"/>
                <text x="0" y="4" text-anchor="middle" fill="#ffffff" font-size="10" font-weight="600" font-family="Liberation Sans, Arial, sans-serif">EDGE</text>
            </g>

            <!-- Edge 4: Right -->
            <g transform="translate(660, 250)">
                <circle cx="0" cy="0" r="22" fill="url(#edgeGradient)" filter="url(#edgeGlow)"/>
                <text x="0" y="4" text-anchor="middle" fill="#ffffff" font-size="10" font-weight="600" font-family="Liberation Sans, Arial, sans-serif">EDGE</text>
            </g>

            <!-- Edge 5: Bottom-left -->
            <g transform="translate(220, 330)">
                <circle cx="0" cy="0" r="22" fill="url(#edgeGradient)" filter="url(#edgeGlow)"/>
                <text x="0" y="4" text-anchor="middle" fill="#ffffff" font-size="10" font-weight="600" font-family="Liberation Sans, Arial, sans-serif">EDGE</text>
            </g>

            <!-- Edge 6: Bottom-right -->
            <g transform="translate(580, 330)">
                <circle cx="0" cy="0" r="22" fill="url(#edgeGradient)" filter="url(#edgeGlow)"/>
                <text x="0" y="4" text-anchor="middle" fill="#ffffff" font-size="10" font-weight="600" font-family="Liberation Sans, Arial, sans-serif">EDGE</text>
            </g>

            <!-- Users connecting to nearby edge nodes -->
            <!-- User 1: Near top-left edge -->
            <g transform="translate(95, 95)">
                <circle cx="0" cy="0" r="12" fill="url(#userGradient)" filter="url(#shadow)"/>
                <circle cx="0" cy="-3" r="4" fill="#ffffff"/>
                <path d="M-6,6 Q0,2 6,6" fill="none" stroke="#ffffff" stroke-width="2" stroke-linecap="round"/>
            </g>
            <!-- Short green line: user to edge -->
            <line x1="107" y1="102" x2="162" y2="118" stroke="#22c55e" stroke-width="2.5"/>

            <!-- User 2: Near top-right edge -->
            <g transform="translate(705, 100)">
                <circle cx="0" cy="0" r="12" fill="url(#userGradient)" filter="url(#shadow)"/>
                <circle cx="0" cy="-3" r="4" fill="#ffffff"/>
                <path d="M-6,6 Q0,2 6,6" fill="none" stroke="#ffffff" stroke-width="2" stroke-linecap="round"/>
            </g>
            <!-- Short green line: user to edge -->
            <line x1="693" y1="105" x2="640" y2="122" stroke="#22c55e" stroke-width="2.5"/>

            <!-- User 3: Near left edge (with latency comparison) -->
            <g transform="translate(50, 270)">
                <circle cx="0" cy="0" r="12" fill="url(#userGradient)" filter="url(#shadow)"/>
                <circle cx="0" cy="-3" r="4" fill="#ffffff"/>
                <path d="M-6,6 Q0,2 6,6" fill="none" stroke="#ffffff" stroke-width="2" stroke-linecap="round"/>
            </g>
            <!-- Short green line: user to nearby edge (20ms) -->
            <line x1="62" y1="265" x2="120" y2="255" stroke="#22c55e" stroke-width="2.5"/>

            <!-- User 4: Near right edge -->
            <g transform="translate(750, 230)">
                <circle cx="0" cy="0" r="12" fill="url(#userGradient)" filter="url(#shadow)"/>
                <circle cx="0" cy="-3" r="4" fill="#ffffff"/>
                <path d="M-6,6 Q0,2 6,6" fill="none" stroke="#ffffff" stroke-width="2" stroke-linecap="round"/>
            </g>
            <!-- Short green line: user to edge -->
            <line x1="738" y1="232" x2="680" y2="245" stroke="#22c55e" stroke-width="2.5"/>

            <!-- User 5: Near bottom-left edge -->
            <g transform="translate(145, 375)">
                <circle cx="0" cy="0" r="12" fill="url(#userGradient)" filter="url(#shadow)"/>
                <circle cx="0" cy="-3" r="4" fill="#ffffff"/>
                <path d="M-6,6 Q0,2 6,6" fill="none" stroke="#ffffff" stroke-width="2" stroke-linecap="round"/>
            </g>
            <!-- Short green line: user to edge -->
            <line x1="155" y1="365" x2="205" y2="345" stroke="#22c55e" stroke-width="2.5"/>

            <!-- User 6: Near bottom-right edge -->
            <g transform="translate(655, 380)">
                <circle cx="0" cy="0" r="12" fill="url(#userGradient)" filter="url(#shadow)"/>
                <circle cx="0" cy="-3" r="4" fill="#ffffff"/>
                <path d="M-6,6 Q0,2 6,6" fill="none" stroke="#ffffff" stroke-width="2" stroke-linecap="round"/>
            </g>
            <!-- Short green line: user to edge -->
            <line x1="645" y1="370" x2="595" y2="345" stroke="#22c55e" stroke-width="2.5"/>

            <!-- Latency comparison: Without edge (long dotted line) -->
            <line x1="50" y1="258" x2="360" y2="210" stroke="#ef4444" stroke-width="1.5" stroke-dasharray="6,4" opacity="0.7"/>

            <!-- Latency labels -->
            <!-- "With edge: 20ms" label near short connection -->
            <g transform="translate(85, 235)">
                <rect x="-35" y="-10" width="70" height="18" rx="4" fill="#dcfce7" stroke="#22c55e" stroke-width="1"/>
                <text x="0" y="3" text-anchor="middle" fill="#166534" font-size="10" font-weight="500" font-family="Liberation Sans, Arial, sans-serif">
                    20ms
                </text>
            </g>

            <!-- "Without edge: 200ms" label near long dotted line -->
            <g transform="translate(200, 220)">
                <rect x="-40" y="-10" width="80" height="18" rx="4" fill="#fee2e2" stroke="#ef4444" stroke-width="1"/>
                <text x="0" y="3" text-anchor="middle" fill="#dc2626" font-size="10" font-weight="500" font-family="Liberation Sans, Arial, sans-serif">
                    200ms
                </text>
            </g>

            <!-- Legend at bottom -->
            <g transform="translate(240, 390)">
                <line x1="0" y1="0" x2="25" y2="0" stroke="#22c55e" stroke-width="2.5"/>
                <text x="32" y="4" fill="#64748b" font-size="10" font-family="Liberation Sans, Arial, sans-serif">With edge</text>

                <line x1="110" y1="0" x2="135" y2="0" stroke="#ef4444" stroke-width="1.5" stroke-dasharray="6,4"/>
                <text x="142" y="4" fill="#64748b" font-size="10" font-family="Liberation Sans, Arial, sans-serif">Without edge</text>

                <circle cx="240" cy="0" r="6" fill="url(#userGradient)"/>
                <text x="252" y="4" fill="#64748b" font-size="10" font-family="Liberation Sans, Arial, sans-serif">User</text>

                <circle cx="300" cy="0" r="6" fill="url(#edgeGradient)"/>
                <text x="312" y="4" fill="#64748b" font-size="10" font-family="Liberation Sans, Arial, sans-serif">Edge</text>
            </g>
        </svg>
    </div>
</body>
</html>
