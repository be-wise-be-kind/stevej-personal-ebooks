<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vector Similarity Search</title>
    <style>
        body {
            font-family: Liberation Sans, Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background: #f8fafc;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }
        .diagram-container {
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            padding: 24px;
            max-width: 100%;
        }
        svg {
            display: block;
            margin: 0 auto;
        }
    </style>
</head>
<body>
    <div class="diagram-container">
        <svg viewBox="0 0 800 450" xmlns="http://www.w3.org/2000/svg">
            <!-- Background -->
            <rect width="800" height="450" fill="white"/>

            <!-- Title -->
            <text x="400" y="30" text-anchor="middle" style="font-size: 18px; font-weight: 600; fill: #1e293b;" font-family="Liberation Sans, Arial, sans-serif">Vector Similarity Search</text>

            <!-- Embedding space (2D simplification) -->
            <rect x="50" y="60" width="350" height="300" fill="#f8fafc" rx="8" stroke="#e2e8f0" stroke-width="2"/>
            <text x="225" y="85" text-anchor="middle" style="font-size: 12px; fill: #64748b; font-weight: 500;" font-family="Liberation Sans, Arial, sans-serif">Embedding Space (2D visualization of high-dimensional vectors)</text>

            <!-- Axes -->
            <line x1="70" y1="330" x2="380" y2="330" stroke="#cbd5e1" stroke-width="1"/>
            <line x1="70" y1="330" x2="70" y2="100" stroke="#cbd5e1" stroke-width="1"/>
            <text x="385" y="335" style="font-size: 9px; fill: #94a3b8;" font-family="Liberation Sans, Arial, sans-serif">dim 1</text>
            <text x="60" y="95" style="font-size: 9px; fill: #94a3b8;" font-family="Liberation Sans, Arial, sans-serif">dim 2</text>

            <!-- Query point (center of k-NN search) -->
            <circle cx="220" cy="200" r="10" fill="#ef4444"/>
            <text x="220" y="205" text-anchor="middle" style="font-size: 8px; fill: white; font-weight: 600;" font-family="Liberation Sans, Arial, sans-serif">Q</text>

            <!-- k-NN radius circle -->
            <circle cx="220" cy="200" r="80" fill="none" stroke="#ef4444" stroke-width="2" stroke-dasharray="5,3"/>
            <text x="305" y="155" style="font-size: 9px; fill: #ef4444; font-weight: 500;" font-family="Liberation Sans, Arial, sans-serif">k-NN radius</text>

            <!-- Similar products (within radius) -->
            <circle cx="180" cy="160" r="7" fill="#22c55e"/>
            <circle cx="260" cy="180" r="7" fill="#22c55e"/>
            <circle cx="200" cy="240" r="7" fill="#22c55e"/>
            <circle cx="270" cy="230" r="7" fill="#22c55e"/>
            <circle cx="160" cy="210" r="7" fill="#22c55e"/>

            <!-- Distance lines to nearest neighbors -->
            <line x1="220" y1="200" x2="180" y2="160" stroke="#22c55e" stroke-width="1" stroke-dasharray="3,2"/>
            <line x1="220" y1="200" x2="260" y2="180" stroke="#22c55e" stroke-width="1" stroke-dasharray="3,2"/>
            <line x1="220" y1="200" x2="200" y2="240" stroke="#22c55e" stroke-width="1" stroke-dasharray="3,2"/>

            <!-- Dissimilar products (outside radius) -->
            <circle cx="120" cy="120" r="6" fill="#94a3b8"/>
            <circle cx="340" cy="140" r="6" fill="#94a3b8"/>
            <circle cx="100" cy="280" r="6" fill="#94a3b8"/>
            <circle cx="350" cy="290" r="6" fill="#94a3b8"/>
            <circle cx="320" cy="320" r="6" fill="#94a3b8"/>
            <circle cx="140" cy="310" r="6" fill="#94a3b8"/>
            <circle cx="280" cy="110" r="6" fill="#94a3b8"/>
            <circle cx="90" cy="180" r="6" fill="#94a3b8"/>
            <circle cx="360" cy="220" r="6" fill="#94a3b8"/>

            <!-- Labels for query and results -->
            <rect x="185" y="258" width="70" height="18" fill="#fef2f2" rx="3"/>
            <text x="220" y="270" text-anchor="middle" style="font-size: 8px; fill: #dc2626;" font-family="Liberation Sans, Arial, sans-serif">Query vector</text>

            <rect x="245" y="148" width="85" height="18" fill="#dcfce7" rx="3"/>
            <text x="287" y="160" text-anchor="middle" style="font-size: 8px; fill: #166534;" font-family="Liberation Sans, Arial, sans-serif">Nearest neighbors</text>

            <!-- Right side: Process flow -->
            <text x="600" y="70" text-anchor="middle" style="font-size: 12px; fill: #374151; font-weight: 600;" font-family="Liberation Sans, Arial, sans-serif">Vector Search Process</text>

            <!-- Step 1: Query -->
            <rect x="450" y="90" width="300" height="50" fill="#fef2f2" rx="6"/>
            <text x="470" y="110" style="font-size: 10px; fill: #dc2626; font-weight: 600;" font-family="Liberation Sans, Arial, sans-serif">1. Query Text</text>
            <text x="470" y="128" style="font-size: 10px; fill: #7f1d1d;" font-family="Liberation Sans, Arial, sans-serif">"comfortable running shoes"</text>

            <line x1="600" y1="140" x2="600" y2="155" stroke="#64748b" stroke-width="2" marker-end="url(#arrowGray)"/>

            <!-- Step 2: Embedding -->
            <rect x="450" y="160" width="300" height="50" fill="#dbeafe" rx="6"/>
            <text x="470" y="180" style="font-size: 10px; fill: #1e40af; font-weight: 600;" font-family="Liberation Sans, Arial, sans-serif">2. Generate Embedding</text>
            <text x="470" y="198" style="font-size: 9px; fill: #1e3a8a; font-family: monospace;" font-family="Liberation Sans, Arial, sans-serif">[0.23, -0.45, 0.12, ..., 0.78]</text>

            <line x1="600" y1="210" x2="600" y2="225" stroke="#64748b" stroke-width="2" marker-end="url(#arrowGray)"/>

            <!-- Step 3: Similarity search -->
            <rect x="450" y="230" width="300" height="50" fill="#fef3c7" rx="6"/>
            <text x="470" y="250" style="font-size: 10px; fill: #92400e; font-weight: 600;" font-family="Liberation Sans, Arial, sans-serif">3. Vector Similarity Search</text>
            <text x="470" y="268" style="font-size: 9px; fill: #78350f;" font-family="Liberation Sans, Arial, sans-serif">Find k-nearest neighbors (cosine distance)</text>

            <line x1="600" y1="280" x2="600" y2="295" stroke="#64748b" stroke-width="2" marker-end="url(#arrowGray)"/>

            <!-- Step 4: Results -->
            <rect x="450" y="300" width="300" height="85" fill="#dcfce7" rx="6"/>
            <text x="470" y="320" style="font-size: 10px; fill: #166534; font-weight: 600;" font-family="Liberation Sans, Arial, sans-serif">4. Semantic Matches</text>
            <text x="475" y="340" style="font-size: 9px; fill: #14532d;" font-family="Liberation Sans, Arial, sans-serif">• "cushioned jogging sneakers" (0.92)</text>
            <text x="475" y="355" style="font-size: 9px; fill: #14532d;" font-family="Liberation Sans, Arial, sans-serif">• "padded athletic footwear" (0.89)</text>
            <text x="475" y="370" style="font-size: 9px; fill: #14532d;" font-family="Liberation Sans, Arial, sans-serif">• "soft marathon trainers" (0.87)</text>
            <text x="560" y="380" style="font-size: 8px; fill: #64748b;" font-family="Liberation Sans, Arial, sans-serif">(similarity scores)</text>

            <!-- Key insight box -->
            <rect x="50" y="375" width="350" height="65" fill="#f0f9ff" rx="6" stroke="#0284c7" stroke-width="1"/>
            <text x="225" y="395" text-anchor="middle" style="font-size: 10px; fill: #0369a1; font-weight: 600;" font-family="Liberation Sans, Arial, sans-serif">Key Insight</text>
            <text x="225" y="415" text-anchor="middle" style="font-size: 9px; fill: #0c4a6e;" font-family="Liberation Sans, Arial, sans-serif">Vector search finds semantically similar items</text>
            <text x="225" y="430" text-anchor="middle" style="font-size: 9px; fill: #0c4a6e;" font-family="Liberation Sans, Arial, sans-serif">even without keyword overlap</text>

            <!-- Technology examples -->
            <rect x="450" y="395" width="300" height="45" fill="#f1f5f9" rx="4"/>
            <text x="470" y="415" style="font-size: 10px; fill: #374151; font-weight: 500;" font-family="Liberation Sans, Arial, sans-serif">Vector DBs: Pinecone, Weaviate, Qdrant, Milvus</text>
            <text x="470" y="430" style="font-size: 10px; fill: #374151;" font-family="Liberation Sans, Arial, sans-serif">Hybrid: pgvector, Elasticsearch dense vectors</text>

            <!-- Legend (positioned in lower left of embedding space) -->
            <circle cx="85" cy="345" r="5" fill="#ef4444"/>
            <text x="95" y="349" style="font-size: 9px; fill: #64748b;" font-family="Liberation Sans, Arial, sans-serif">Query</text>

            <circle cx="145" cy="345" r="5" fill="#22c55e"/>
            <text x="155" y="349" style="font-size: 9px; fill: #64748b;" font-family="Liberation Sans, Arial, sans-serif">Match</text>

            <circle cx="205" cy="345" r="5" fill="#94a3b8"/>
            <text x="215" y="349" style="font-size: 9px; fill: #64748b;" font-family="Liberation Sans, Arial, sans-serif">Non-match</text>

            <!-- Arrow markers -->
            <defs>
                <marker id="arrowGray" markerWidth="8" markerHeight="8" refX="7" refY="3" orient="auto" markerUnits="strokeWidth">
                    <path d="M0,0 L0,6 L9,3 z" fill="#64748b"/>
                </marker>
            </defs>
        </svg>
    </div>
</body>
</html>
